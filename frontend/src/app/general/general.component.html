<!-- VERSIÓN DESKTOP -->
<div class="hidden md:block">
  <!-- Banner de ofertas -->
  <section class="promo-banner" aria-labelledby="promo-heading">
    <div class="promo-background-elements" aria-hidden="true">
      <div class="promo-shape shape-1"></div>
      <div class="promo-shape shape-2"></div>
      <div class="promo-shape shape-3"></div>
      <div class="promo-dots"></div>
    </div>

    <div class="promo-content">
      <div class="promo-text">
        <span class="promo-tag" aria-label="Tipo de oferta"
          >Oferta limitada</span
        >
        <h2 id="promo-heading" class="promo-heading">
          Rebajas de <span class="text-gradient">Primavera</span>
        </h2>
        <p class="promo-subheading" aria-describedby="promo-heading">
          Hasta un <span class="highlight">50%</span> de descuento en productos
          seleccionados
        </p>
        <div class="promo-cta">
          <a
            routerLink="/home/offers"
            class="promo-button"
            aria-label="Ver todas las ofertas de invierno"
            >Ver ofertas</a
          >
          <div class="promo-countdown" aria-label="Cuenta atrás de la oferta">
            <span id="countdown-label">Termina en:</span>
            <div
              class="countdown-timer"
              aria-labelledby="countdown-label"
              role="timer"
            >
              <div class="timer-unit">
                <span class="timer-number" aria-label="días">3</span>
                <span class="timer-label">días</span>
              </div>
              <div class="timer-unit">
                <span class="timer-number" aria-label="horas">08</span>
                <span class="timer-label">horas</span>
              </div>
              <div class="timer-unit">
                <span class="timer-number" aria-label="minutos">45</span>
                <span class="timer-label">min</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="promo-media" aria-hidden="true">
        <div class="discount-badge-container">
          <img
            src="/images/50_2.png"
            alt="50% descuento"
            class="discount-badge"
          />
          <div class="discount-sparkle sparkle-1"></div>
          <div class="discount-sparkle sparkle-2"></div>
          <div class="discount-sparkle sparkle-3"></div>
        </div>
        <div class="promo-products">
          <img
            src="/images/product-preview1.png"
            alt="Producto en oferta"
            class="promo-product product-1"
          />
          <img
            src="/images/product-preview2.png"
            alt="Producto en oferta"
            class="promo-product product-2"
          />
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    <!-- Productos con descuento -->
    <section class="product-section" aria-labelledby="offers-section-title">
      <header class="section-header">
        <h2 id="offers-section-title">Ofertas destacadas</h2>
        <div
          class="carousel-controls"
          aria-label="Controles del carrusel de ofertas"
        >
          <button
            class="carousel-arrow"
            (click)="previous_discount()"
            aria-label="Ver ofertas anteriores"
          >
            <i class="fi fi-br-angle-left" aria-hidden="true"></i>
          </button>
          <button
            class="carousel-arrow"
            (click)="next_discount()"
            aria-label="Ver ofertas siguientes"
          >
            <i class="fi fi-br-angle-right" aria-hidden="true"></i>
          </button>
        </div>
      </header>

      <div
        class="products-carousel"
        role="region"
        aria-label="Carrusel de productos en oferta"
      >
        @for (product of visibleDiscount; track product.id) {
        <app-products [product]="product"></app-products>
        }
      </div>
    </section>

    <!-- Productos destacados -->
    <section class="product-section" aria-labelledby="featured-section-title">
      <header class="section-header">
        <h2 id="featured-section-title">Productos destacados</h2>
        <div
          class="carousel-controls"
          aria-label="Controles del carrusel de productos destacados"
        >
          <button
            class="carousel-arrow"
            (click)="previous()"
            aria-label="Ver productos destacados anteriores"
          >
            <i class="fi fi-br-angle-left" aria-hidden="true"></i>
          </button>
          <button
            class="carousel-arrow"
            (click)="next()"
            aria-label="Ver productos destacados siguientes"
          >
            <i class="fi fi-br-angle-right" aria-hidden="true"></i>
          </button>
        </div>
      </header>

      <div
        class="products-carousel"
        role="region"
        aria-label="Carrusel de productos destacados"
      >
        @for (product of visibleProducts; track product.id) {
        <app-products [product]="product"></app-products>
        }
      </div>
    </section>

    <!-- Categorías en tendencia -->
    <section
      class="categories-section"
      aria-labelledby="trending-section-title"
    >
      <header class="section-header">
        <h2 id="trending-section-title">Categorías en tendencia</h2>
      </header>

      <div class="categories-container">
        <app-featured-categories></app-featured-categories>
      </div>
    </section>
  </div>
</div>

<!-- VERSIÓN MÓVIL -->
<div class="block md:hidden">
  <!-- Banner de ofertas simplificado -->
  <section
    class="bg-gradient-to-r from-[var(--promo-color1)] to-[var(--promo-color2)] rounded-b-xl mx-4 mt-0 mb-6 p-6 relative overflow-hidden shadow-lg"
    aria-labelledby="promo-heading-mobile"
  >
    <div class="flex flex-col items-center text-center">
      <span
        class="inline-block px-3 py-1 bg-white bg-opacity-20 text-white text-xs font-semibold rounded-full mb-3"
        aria-label="Tipo de oferta"
      >
        Oferta limitada
      </span>
      <h2 id="promo-heading-mobile" class="text-2xl font-bold text-white mb-2">
        Rebajas de
        <span
          class="bg-clip-text text-transparent bg-gradient-to-r from-white to-yellow-200 font-extrabold"
          >Invierno</span
        >
      </h2>
      <p
        class="text-white text-opacity-90 text-sm mb-4"
        aria-describedby="promo-heading-mobile"
      >
        Hasta un
        <span
          class="bg-white bg-opacity-20 px-2 py-1 rounded font-bold text-white"
          >50%</span
        >
        de descuento
      </p>

      <div
        class="flex justify-center space-x-3 mb-4"
        role="timer"
        aria-label="Cuenta atrás de la oferta"
      >
        <div class="bg-black bg-opacity-15 rounded-md p-2 w-14 text-center">
          <div class="text-xl font-bold text-white" aria-label="días">3</div>
          <div class="text-xs text-white text-opacity-80">días</div>
        </div>
        <div class="bg-black bg-opacity-15 rounded-md p-2 w-14 text-center">
          <div class="text-xl font-bold text-white" aria-label="horas">08</div>
          <div class="text-xs text-white text-opacity-80">horas</div>
        </div>
        <div class="bg-black bg-opacity-15 rounded-md p-2 w-14 text-center">
          <div class="text-xl font-bold text-white" aria-label="minutos">
            45
          </div>
          <div class="text-xs text-white text-opacity-80">min</div>
        </div>
      </div>

      <a
        routerLink="/home/offers"
        class="bg-white text-[var(--secondary-color)] font-semibold py-2 px-5 rounded-full flex items-center justify-center space-x-1 shadow-md hover:shadow-lg transition-all"
        aria-label="Ver todas las ofertas de invierno"
      >
        <span>Ver ofertas</span>
        <i class="fi fi-br-angle-right" aria-hidden="true"></i>
      </a>

      <div class="absolute -top-2 -right-2" aria-hidden="true">
        <img
          src="/images/50_2.png"
          alt="50% descuento"
          class="w-20 h-20 object-contain opacity-90"
        />
      </div>
    </div>
  </section>

  <div class="px-4">
    <!-- Ofertas destacadas móvil -->
    <section class="mb-8" aria-labelledby="offers-section-title-mobile">
      <div class="flex justify-between items-center mb-4">
        <h2
          id="offers-section-title-mobile"
          class="text-xl font-bold text-[var(--text-color)] relative after:content-[''] after:absolute after:left-0 after:bottom-[-6px] after:w-10 after:h-1 after:bg-[var(--secondary-color)] after:rounded-full"
        >
          Ofertas destacadas
        </h2>
        <div
          class="flex space-x-2"
          aria-label="Controles del carrusel de ofertas"
        >
          <button
            class="w-9 h-9 flex items-center justify-center rounded-full bg-[var(--card-background-color)] text-[var(--text-color)] shadow hover:bg-[var(--secondary-color)] hover:text-white transition-all"
            (click)="previous_discount()"
            aria-label="Ver ofertas anteriores"
          >
            <i class="fi fi-br-angle-left" aria-hidden="true"></i>
          </button>
          <button
            class="w-9 h-9 flex items-center justify-center rounded-full bg-[var(--card-background-color)] text-[var(--text-color)] shadow hover:bg-[var(--secondary-color)] hover:text-white transition-all"
            (click)="next_discount()"
            aria-label="Ver ofertas siguientes"
          >
            <i class="fi fi-br-angle-right" aria-hidden="true"></i>
          </button>
        </div>
      </div>

      <div
        class="grid grid-cols-2 gap-4"
        role="region"
        aria-label="Productos en oferta"
      >
        @for (product of visibleDiscount; track product.id) {
        <app-products [product]="product"></app-products>
        }
      </div>
    </section>

    <!-- Productos destacados móvil -->
    <section class="mb-8" aria-labelledby="featured-section-title-mobile">
      <div class="flex justify-between items-center mb-4">
        <h2
          id="featured-section-title-mobile"
          class="text-xl font-bold text-[var(--text-color)] relative after:content-[''] after:absolute after:left-0 after:bottom-[-6px] after:w-10 after:h-1 after:bg-[var(--secondary-color)] after:rounded-full"
        >
          Productos destacados
        </h2>
        <div
          class="flex space-x-2"
          aria-label="Controles del carrusel de productos destacados"
        >
          <button
            class="w-9 h-9 flex items-center justify-center rounded-full bg-[var(--card-background-color)] text-[var(--text-color)] shadow hover:bg-[var(--secondary-color)] hover:text-white transition-all"
            (click)="previous()"
            aria-label="Ver productos destacados anteriores"
          >
            <i class="fi fi-br-angle-left" aria-hidden="true"></i>
          </button>
          <button
            class="w-9 h-9 flex items-center justify-center rounded-full bg-[var(--card-background-color)] text-[var(--text-color)] shadow hover:bg-[var(--secondary-color)] hover:text-white transition-all"
            (click)="next()"
            aria-label="Ver productos destacados siguientes"
          >
            <i class="fi fi-br-angle-right" aria-hidden="true"></i>
          </button>
        </div>
      </div>

      <div
        class="grid grid-cols-2 gap-4"
        role="region"
        aria-label="Productos destacados"
      >
        @for (product of visibleProducts; track product.id) {
        <app-products [product]="product"></app-products>
        }
      </div>
    </section>

    <!-- Categorías en tendencia móvil -->
    <section class="mb-8" aria-labelledby="trending-section-title-mobile">
      <div class="mb-4">
        <h2
          id="trending-section-title-mobile"
          class="text-xl font-bold text-[var(--text-color)] relative after:content-[''] after:absolute after:left-0 after:bottom-[-6px] after:w-10 after:h-1 after:bg-[var(--secondary-color)] after:rounded-full"
        >
          Categorías en tendencia
        </h2>
      </div>

      <div
        class="bg-[var(--card-background-color)] rounded-xl shadow p-4"
        role="region"
        aria-labelledby="trending-section-title-mobile"
      >
        <app-featured-categories></app-featured-categories>
      </div>
    </section>
  </div>
</div>
